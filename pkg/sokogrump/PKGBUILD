pkgname=sokogrump
pkgver=2.1.0
pkgrel=2
pkgdesc="Sokoban-like puzzle game featuring the Grumpy Cat"
arch=('aarch64' 'armv7h' 'x86_64')
url="https://github.com/hmlendea/${pkgname}"
license=('GPL')
depends=('mono' 'gtk-sharp-2')
install=
source=(https://github.com/hmlendea/${pkgname}/releases/download/v${pkgver}/${pkgname}_${pkgver}_linux-$(echo ${CARCH} | sed \
                                                                                                    -e 's/aarch64/arm64/g' \
                                                                                                    -e 's/armv7h/arm/g' \
                                                                                                    -e 's/x86_64/x64/g').zip)
sha512sums=('SKIP')

package() {
	install -d "${pkgdir}/var/lib/${pkgname}"
	install -d "${pkgdir}/usr/bin"
	install -d "${pkgdir}/usr/share/applications"
	install -d "${pkgdir}/usr/share/pixmaps"

	cp -r "${srcdir}"/* "${pkgdir}/var/lib/${pkgname}/"
    [ -f "${srcdir}"/*.a ] && cp -r "${srcdir}"/*.a "${pkgdir}/var/lib/${pkgname}/"
    rm "${pkgdir}/var/lib/${pkgname}/"*.zip

	install -m755 "${srcdir}/../${pkgname}.sh" "${pkgdir}/usr/bin/sokogrump"
	install -m755 "${srcdir}/../${pkgname}.desktop" "${pkgdir}/usr/share/applications"
	install -m644 "${srcdir}/../${pkgname}.png" "${pkgdir}/usr/share/pixmaps"
}
