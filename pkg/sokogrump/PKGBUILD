pkgname=sokogrump
pkgver=2.0.0
pkgrel=1
pkgdesc="Sokoban-like puzzle game featuring the Grumpy Cat"
arch=('any')
url="https://github.com/hmlendea/${pkgname}"
license=('GPL')
install=
source=("https://github.com/hmlendea/${pkgname}/releases/download/v${pkgver}/${pkgname}_${pkgver}_linux-x64.zip")
sha512sums=('8c35b2769e9e2b9f859a5867d8beb09e370d79162af81636b10f3993c25468040e55d5a34dc3076dfaf8fd94bebe97fc8a577de199b5e3224a3ff297ad80f5dc')

package() {
	cd "${srcdir}"
	install -d "${pkgdir}/${HOME}/.${pkgname}"
	install -d "${pkgdir}/usr/share/applications"
	install -d "${pkgdir}/usr/share/pixmaps"
	
	install -m755 "${srcdir}/SokoGrump_Linux_x86/${pkgname}" "${pkgdir}/${HOME}/.${pkgname}"
	install -m755 "${srcdir}/SokoGrump_Linux_x86/SokoGrump.exe" "${pkgdir}/${HOME}/.${pkgname}"
	install -m755 "${srcdir}/../${pkgname}.desktop" "${pkgdir}/usr/share/applications"
	install -m644 "${srcdir}/../${pkgname}.png" "${pkgdir}/usr/share/pixmaps"
	sed -i 's/USERGOESHERE/'${USER}'/g' "${pkgdir}/usr/share/applications/${pkgname}.desktop"
	
	cp -r "${srcdir}/SokoGrump_Linux_x86/Levels" "${pkgdir}/${HOME}/.${pkgname}"
	cp -r "${srcdir}/SokoGrump_Linux_x86/Resources" "${pkgdir}/${HOME}/.${pkgname}"
	
	chown $USER "${pkgdir}/${HOME}/.${pkgname}"
}
